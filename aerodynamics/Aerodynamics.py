# -*- coding: utf-8 -*-
"""
Created on Thu Mar 28 09:01:39 2019

@author: lbrevaul
"""

from __future__ import print_function
import numpy as np
from openmdao.api import ExplicitComponent
import sys
sys.path.append(r'../')


class Aerodynamics_Comp(ExplicitComponent):
    def setup(self):
        ###Inputs definition
        
        #No inputs here

        ###Output definition        
        self.add_output('Table_CX_complete_ascent' ,val=np.ones((20,15)),  desc = 'Cx table - stage 1')
        self.add_output('Mach_table' ,val=np.ones(20),  desc = 'Mach table - stage 1')
        self.add_output('AoA_table' ,val=np.ones(15),  desc = 'Angle of attack table - stage 1')
        
    def compute(self, inputs, outputs):

        Mach_table = np.array([0.3,0.4,0.5,0.6,0.7,0.8,0.85,0.9,0.95,1.0,1.15,1.25,1.5,2.0,3.0,4.0,5.0,6.0,7.0,8.0])
        outputs['Mach_table'] = Mach_table
        
        outputs['AoA_table'] = np.linspace(0.,20.,15)
        
        outputs['Table_CX_complete_ascent'] = np.array([[0.1100924 , 0.10932488, 0.10699298, 0.1036542 , 0.10431376,
        0.11642072, 0.12858407, 0.14488072, 0.16449431, 0.1859498 ,
        0.24294328, 0.2620629 , 0.25533232, 0.23843264, 0.21538797],
       [0.19136801, 0.18013302, 0.16814988, 0.16009291, 0.16152858,
        0.11056341, 0.1107892 , 0.10799564, 0.10240373, 0.10009004,
        0.11082989, 0.12381525, 0.14223488, 0.16516114, 0.19069643],
       [0.25842677, 0.28007559, 0.27114705, 0.24777782, 0.2199503 ,
        0.19623802, 0.18475152, 0.17323355, 0.1638908 , 0.16475023,
        0.11591994, 0.11755541, 0.11449988, 0.10647472, 0.1005528 ],
       [0.10891418, 0.12233893, 0.14279141, 0.1692728 , 0.19936256,
        0.27885813, 0.30286876, 0.29280323, 0.26153071, 0.22846044,
        0.20554519, 0.19430094, 0.18401501, 0.17369734, 0.17345427],
       [0.12644054, 0.12978143, 0.12681254, 0.11654341, 0.10684015,
        0.11187641, 0.12518867, 0.14738585, 0.17746514, 0.21235642,
        0.30399846, 0.329992  , 0.31969296, 0.2804035 , 0.24194309],
       [0.22026001, 0.20987388, 0.20187866, 0.19101328, 0.18897316,
        0.14173399, 0.14680015, 0.14443948, 0.13268361, 0.11989355,
        0.12115106, 0.13367665, 0.15709186, 0.1904508 , 0.22980325],
       [0.33263386, 0.36033822, 0.35120177, 0.30509395, 0.26216703,
        0.24229555, 0.2331263 , 0.2284888 , 0.21703485, 0.21278922,
        0.16141379, 0.16790961, 0.16668255, 0.15482596, 0.14066453],
       [0.13875405, 0.14986501, 0.17369138, 0.20934374, 0.25161092,
        0.3620256 , 0.39202858, 0.38622674, 0.33594007, 0.29167226,
        0.27460244, 0.26711388, 0.26553027, 0.25286093, 0.24627984],
       [0.18645403, 0.19401345, 0.19421994, 0.18416716, 0.17098561,
        0.16798879, 0.17795879, 0.20110244, 0.23659379, 0.27869346,
        0.39026573, 0.42391882, 0.42409051, 0.37337729, 0.33329026],
       [0.32055086, 0.31396948, 0.31418711, 0.29952887, 0.29052484,
        0.21776159, 0.22632795, 0.2284823 , 0.22205248, 0.21251032,
        0.21143244, 0.22158   , 0.24321947, 0.27569093, 0.31463521],
       [0.42172039, 0.45869592, 0.46627322, 0.41875594, 0.38974203,
        0.38264997, 0.37377869, 0.37499559, 0.3580405 , 0.34654017,
        0.2552886 , 0.26516966, 0.26993688, 0.26821984, 0.26427733],
       [0.26708452, 0.27771663, 0.29770927, 0.3265411 , 0.36118039,
        0.46082199, 0.49996041, 0.51556122, 0.47465813, 0.46356696,
        0.45869094, 0.44615678, 0.44834506, 0.4293711 , 0.41542286],
       [0.29885584, 0.31039862, 0.31817753, 0.3214392 , 0.3235097 ,
        0.33143213, 0.3429366 , 0.3618086 , 0.38767904, 0.4184582 ,
        0.51056443, 0.5511791 , 0.57563143, 0.54527178, 0.55707696],
       [0.54804114, 0.53172017, 0.53468163, 0.51446851, 0.49821093,
        0.34975724, 0.36334526, 0.37441127, 0.38258634, 0.39046258,
        0.40421317, 0.41715159, 0.43575711, 0.4598058 , 0.48787323],
       [0.57429403, 0.6164714 , 0.65127267, 0.63726197, 0.67083423,
        0.65317157, 0.6322583 , 0.63472509, 0.6143514 , 0.59558364,
        0.41118726, 0.42736501, 0.44210827, 0.45527546, 0.46903312],
       [0.48867358, 0.50340935, 0.5224914 , 0.5457805 , 0.57230949,
        0.65540016, 0.69956038, 0.74611375, 0.75428787, 0.80453072,
        0.77790991, 0.75017663, 0.74987503, 0.72994475, 0.70827675],
       [0.48666483, 0.50590358, 0.5246118 , 0.54280302, 0.56236827,
        0.58763931, 0.60430107, 0.624331  , 0.64762462, 0.6735144 ,
        0.75517471, 0.80153418, 0.85994331, 0.89096892, 0.96164188],
       [0.92567715, 0.88760003, 0.88226958, 0.86204816, 0.83646751,
        0.57930313, 0.60181755, 0.6245163 , 0.64752509, 0.6724894 ,
        0.70281924, 0.72130197, 0.7424257 , 0.76609753, 0.79184118],
       [0.87299176, 0.92123225, 0.99021506, 1.04311461, 1.13949755,
        1.095794  , 1.04533272, 1.03406247, 1.01079033, 0.97966605,
        0.69071277, 0.71646113, 0.74294087, 0.77034989, 0.800083  ],
       [0.83474261, 0.85481471, 0.8769758 , 0.9011351 , 0.92693697,
        1.00779753, 1.05722006, 1.13482642, 1.20714213, 1.32933996,
        1.28332924, 1.22226736, 1.20448262, 1.17539687, 1.1372082 ]])  
        
        

